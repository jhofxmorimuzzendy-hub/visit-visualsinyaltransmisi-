<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>VISI-T | Visual Sinyal Transmisi</title>
<link rel="icon" type="image/png" href="images/logo-visi-t.png"> <link rel="manifest" href="manifest.json">

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1A73E8">
<link rel="preload" href="URL_FONT_POPULAR_DARI_GOOGLE" as="style">
<link href="URL_FONT_POPULAR_DARI_GOOGLE" rel="stylesheet">

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Poppins", sans-serif; }
  body { background: #f9f9f9; color: #333; overflow-x: hidden; }

  /* HEADER */
  header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 12px 40px; background: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: fixed; width: 100%; z-index: 1000;
  }

  .logo img {
    height: 70px; width: auto;
    animation: glowPulse 3s ease-in-out infinite;
    filter: drop-shadow(0 0 6px #1A73E8);
  }
  @keyframes glowPulse {
    0%,100% { filter: drop-shadow(0 0 6px #1A73E8); }
    50% { filter: drop-shadow(0 0 14px #4285F4); }
  }

  /* SEARCH BAR */
  .search-wrapper {
    display: flex; align-items: center; gap: 12px;
    flex-grow: 1; justify-content: center;
  }
  .search-container { position: relative; width: 40%; max-width: 350px; }
  .search-container input {
    width: 100%; padding: 10px 40px 10px 16px;
    border: 1.5px solid #1A73E8; border-radius: 25px;
    font-size: 14px; outline: none; transition: 0.3s;
  }
  .search-container input:focus { box-shadow: 0 0 10px rgba(26,115,232,0.5); }
  .reset-btn {
    position: absolute; right: 10px; top: 50%;
    transform: translateY(-50%);
    background: transparent; border: none; color: #1A73E8;
    font-size: 18px; cursor: pointer; display: none;
  }
  .notification {
    background: #1A73E8; color: #fff;
    padding: 6px 16px; border-radius: 25px;
    font-size: 13px; display: none;
    box-shadow: 0 0 6px rgba(26,115,232,0.4);
  }

  /* HAMBURGER MENU */
  .hamburger { width: 30px; height: 25px; display: flex; flex-direction: column;
    justify-content: space-between; cursor: pointer; position: relative; z-index: 1100; }
  .hamburger div {
    width: 100%; height: 4px; background-color: #1A73E8;
    border-radius: 2px; transition: 0.3s;
  }
  .hamburger.active div:nth-child(1){ transform: rotate(45deg) translate(6px,6px); }
  .hamburger.active div:nth-child(2){ opacity:0; }
  .hamburger.active div:nth-child(3){ transform: rotate(-45deg) translate(6px,-6px); }

  .menu {
    display: none; position: absolute; top: 70px; right: 40px;
    background: white; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    border-radius: 10px; padding: 10px 20px; animation: fadeIn 0.3s ease;
  }
  @keyframes fadeIn { from {opacity:0; transform: translateY(-10px);} to {opacity:1; transform: translateY(0);} }
  .menu a { display:block; color:#1A73E8; text-decoration:none; padding:8px 0; font-weight:600; }
  .menu a:hover { color:#004aad; }
  .show { display: block; }

  /* HERO */
  .hero { display:flex; align-items:center; justify-content:space-between; padding:120px 60px 60px; }
  .hero-text h1 { font-size:48px; color:#1A73E8; line-height:1.2; }
  .hero-text h1 span { color:#004aad; font-weight:700; }
  .hero-text p { font-size:16px; margin:20px 0; max-width:480px; }
  .btn-primary {
    background:#1A73E8; color:#fff; padding:12px 26px;
    border-radius:25px; text-decoration:none; font-weight:600; transition:0.3s;
  }
  .btn-primary:hover { background:#004aad; }

  /* MAP */
  .hero-map { flex:1; position:relative; display:flex; justify-content:center; align-items:center; }
  .hero-map img { 
    width:100%; 
    max-width:650px; 
    border-radius:10px; 
    box-shadow:none; 
  }

  /* TOWER */
  .tower {
    position:absolute; width:32px; height:32px;
    background:url('https://cdn-icons-png.flaticon.com/512/854/854894.png') no-repeat center;
    background-size:contain; cursor:pointer; transition:0.3s;
    filter: brightness(1);
  }
  .tower:hover { transform: scale(1.1); }

  .pulse {
    position:absolute; width:32px; height:32px; border-radius:50%;
    background:rgba(26,115,232,0.25); animation:pulse 2.5s ease-out infinite;
    transform:scale(0); z-index:0;
  }
  @keyframes pulse {
    0%{transform:scale(0);opacity:0.8;}
    70%{transform:scale(3);opacity:0;}
    100%{opacity:0;}
  }
  
  /* Di bagian <style> di index.html */
  .map-container {
    /* ... properti lain yang sudah ada ... */
    position: relative; /* <--- TAMBAHKAN INI */
    width: 100%;
    /* ... */
  }
  /* Di bagian <style> di index.html */
  .tower-icon {
    /* ... properti lain yang sudah ada ... */
    position: absolute; /* <--- UBAH INI */
    z-index: 10;        /* <--- TAMBAHKAN INI: Pastikan ikon berada di atas peta */
    /* ... */
  }

  .tower.active { filter: drop-shadow(0 0 15px #00c3ff) brightness(1.6); }
  .tower.active .pulse { background: rgba(0,195,255,0.5); animation: pulseFast 1.2s ease-out infinite; }
  @keyframes pulseFast {
    0%{transform:scale(0);opacity:0.9;}
    70%{transform:scale(3);opacity:0;}
    100%{opacity:0;}
  }

  .tower.dimmed { opacity: 0.4; filter: grayscale(1) brightness(0.7); }
  .tower.dimmed .pulse { display: none; }

  .tooltip {
    position: absolute; background: rgba(255,255,255,0.95);
    color: #333; padding: 4px 10px; border-radius: 6px;
    font-size: 12px; box-shadow: 0 0 6px rgba(0,0,0,0.15);
    transform: translate(-50%, -130%); white-space: nowrap; display: none;
  }
  .tower:hover .tooltip { display: block; }

  /* POSISI TOWER */
  .jayapura { top:38%; left:77%; }
  .ifar { top:45%; left:65%; }
  .bhayangkara { top:60%; left:50%; }

  @media (max-width:900px){
    .hero{flex-direction:column;text-align:center;}
    .search-container input{width:70%;}
    .hero-map img{max-width:90%;margin-top:30px;}
  }
</style>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('service-worker.js')
    .then(reg => console.log('✅ Service Worker aktif:', reg.scope))
    .catch(err => console.log('❌ Gagal daftar SW:', err));
  });
}
</script>
</head>
<body>

<header>
  <div class="logo"><img src="logo-visi-t.png" alt="Logo VISI-T" /></div>

  <div class="search-wrapper">
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Cari lokasi tower..." />
      <button class="reset-btn" id="resetBtn">✕</button>
    </div>
    <div class="notification" id="notif"></div>
  </div>

  <div class="hamburger" id="hamburger"><div></div><div></div><div></div></div>

  <nav class="menu" id="menu">
    <a href="materi.html">Materi</a>
    <a href="download.html">Download</a>
  </nav>
</header>

<section class="hero">
  <div class="hero-text">
    <h1>Visi - T<br><span>Visual Sinyal Transmisi</span></h1>
    <p>Platform pembelajaran digital berbasis visual untuk menampilkan diagram sinyal transmisi, lokasi tower, serta pembahasannya.</p>
    <a href="panduan-website.html" class="btn-primary">Panduan Website</a>
  </div>

  <div class="hero-map" id="mapArea">
    <img 
    src="images/Wilayah_Adat_Papua-removebg-preview (2).png" 
    alt="Peta Tower" 
    class="map-image" 
    style="width: 100%; height: auto; display: block;"
    loading="lazy" 
/>

    <div class="tower polimak"style="top: 40%; left: 90%;" data-tower="polimak"><div class="pulse"></div><div class="tooltip">Polimak</div></div>
    <div class="tower bhayangkara" style="top: 28%; left: 88%;" data-tower="bhayangkara"><div class="pulse"></div><div class="tooltip">Bhayangkara</div></div>
</div>
  </div>
</section>

<script>
// Hamburger
const hamburger = document.getElementById("hamburger");
const menu = document.getElementById("menu");
hamburger.addEventListener("click", () => {
  hamburger.classList.toggle("active");
  menu.classList.toggle("show");
});
document.addEventListener("click", (e) => {
  if (!hamburger.contains(e.target) && !menu.contains(e.target)) {
    hamburger.classList.remove("active");
    menu.classList.remove("show");
  }
});

// Search Tower
const input = document.getElementById("searchInput");
const resetBtn = document.getElementById("resetBtn");
const notif = document.getElementById("notif");
const towers = document.querySelectorAll(".tower");

input.addEventListener("input", () => {
  const val = input.value.toLowerCase().trim();
  resetBtn.style.display = val ? "block" : "none";

  let found = false;
  towers.forEach(t => {
    const name = t.querySelector(".tooltip").innerText.toLowerCase();

    if (val && name.includes(val)) {
      t.classList.add("active");
      t.classList.remove("dimmed");
      found = true;
    } else if (val) {
      t.classList.remove("active");
      t.classList.add("dimmed");
    } else {
      t.classList.remove("active", "dimmed");
    }
  });

  notif.style.display = val ? "block" : "none";
  notif.innerText = found ? "Tower ditemukan!" : "Tidak ada hasil.";
});

// ENTER → buka halaman detail.html
input.addEventListener("keydown", (e) => {
  if (e.key === "Enter") {
    const val = input.value.trim().toLowerCase();
    const tower = Array.from(towers).find(t =>
      t.querySelector(".tooltip").innerText.toLowerCase() === val
    );
    if (tower) {
      const towerName = tower.querySelector(".tooltip").innerText;
      window.location.href = `detail.html?tower=${encodeURIComponent(towerName)}`;
    } else {
      notif.style.display = "block";
      notif.innerText = "Lokasi tidak ditemukan!";
    }
  }
});

// Reset tombol
resetBtn.addEventListener("click", () => {
  input.value = "";
  resetBtn.style.display = "none";
  notif.style.display = "none";
  towers.forEach(t => t.classList.remove("active", "dimmed"));
});

// Klik ikon tower → buka halaman detail
towers.forEach(tower => {
  tower.addEventListener("click", () => {
    const towerName = tower.querySelector(".tooltip").innerText;
    window.location.href = `detail.html?tower=${encodeURIComponent(towerName)}`;
  });
});
</script>

</body>
</html>
